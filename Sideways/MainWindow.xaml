<Window x:Class="Sideways.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:sideways="clr-namespace:Sideways"
        Title="MainWindow"
        Width="800"
        Height="450"
        Background="#FF050515"
        mc:Ignorable="d">
    <Window.DataContext>
        <sideways:MainViewModel />
    </Window.DataContext>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="2*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid Grid.Column="0">
            <TextBlock HorizontalAlignment="Left"
                       VerticalAlignment="Top"
                       Foreground="Gray"
                       Text="W" />
            <sideways:Chart x:Name="WeeklyChart"
                            CandleInterval="Week"
                            ItemsSource="{Binding CurrentSymbol.Candles}"
                            Time="{Binding EndTime}">
                <sideways:CandleSticks />
            </sideways:Chart>
        </Grid>

        <Grid Grid.Column="1">
            <StackPanel>
                <TextBlock HorizontalAlignment="Left"
                           VerticalAlignment="Top"
                           Foreground="Gray"
                           Text="{Binding CurrentSymbol.Symbol}" />
                <TextBlock HorizontalAlignment="Left"
                           VerticalAlignment="Top"
                           Foreground="Gray"
                           Text="{Binding EndTime, StringFormat='f'}" />
            </StackPanel>

            <sideways:Chart x:Name="DailyChart"
                            CandleInterval="Day"
                            ItemsSource="{Binding CurrentSymbol.Candles}"
                            Time="{Binding EndTime}">
                <sideways:MovingAverage Brush="Purple"
                                        Period="10"
                                        PriceRange="{Binding ElementName=DayCandles, Path=PriceRange}" />

                <sideways:MovingAverage Brush="Yellow"
                                        Period="20"
                                        PriceRange="{Binding ElementName=DayCandles, Path=PriceRange}" />

                <sideways:MovingAverage Brush="Red"
                                        Period="50"
                                        PriceRange="{Binding ElementName=DayCandles, Path=PriceRange}" />

                <sideways:MovingAverage Brush="Orange"
                                        Period="100"
                                        PriceRange="{Binding ElementName=DayCandles, Path=PriceRange}" />

                <sideways:MovingAverage Brush="CadetBlue"
                                        Period="150"
                                        PriceRange="{Binding ElementName=DayCandles, Path=PriceRange}" />

                <sideways:MovingAverage Brush="Green"
                                        Period="200"
                                        PriceRange="{Binding ElementName=DayCandles, Path=PriceRange}" />

                <sideways:CandleSticks x:Name="DayCandles" />
            </sideways:Chart>
        </Grid>

        <Grid Grid.Column="2">
            <TextBlock HorizontalAlignment="Left"
                       VerticalAlignment="Top"
                       Foreground="Gray"
                       Text="h" />
            <sideways:Chart x:Name="HourlyChart"
                            CandleInterval="Hour"
                            ItemsSource="{Binding CurrentSymbol.Candles}"
                            Time="{Binding EndTime}">
                <sideways:CandleSticks />
            </sideways:Chart>
        </Grid>

        <Grid Grid.Column="3">
            <TextBlock HorizontalAlignment="Left"
                       VerticalAlignment="Top"
                       Foreground="Gray"
                       Text="m" />
            <sideways:Chart x:Name="MinuteChart"
                            CandleInterval="Minute"
                            ItemsSource="{Binding CurrentSymbol.Candles}"
                            Time="{Binding EndTime}">
                <sideways:CandleSticks />
            </sideways:Chart>
        </Grid>
    </Grid>
</Window>
